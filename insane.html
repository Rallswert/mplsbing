<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insane Level</title>
    <link rel="stylesheet" href="styles_insane.css">
    <link rel="icon" href="insane.png" type="image/png">
</head>
<body>
    <div id="quiz-container">
        <div id="question-container">
            <p id="question-text"></p>
            <ul id="options-list" class="hidden"></ul>
        </div>
        <button id="hint-button" onclick="showOptions()">Hint</button>
        <button id="reveal-button" onclick="revealAnswer()" class="hidden">Reveal</button>
        <button id="next-button" onclick="nextQuestion()" class="hidden">Next</button>
    </div>
    <div id="congratulations" class="hidden">
        <h1>Legendary</h1>
        <p>That was insanely difficult, but you did it!</p>
        <p>Kalau di atas jangan lupa merunduk ðŸŒ¾</p>
        <button onclick="returnToMenu()">Congrats!</button>
    </div>
    <script>
        const questions = [
            {
                "question": "Which sentence below is correct?",
                "options": ["She is go to the store.", "She is going to the store.", "She going to the store.", "She is to the store."],
                "answer": "She is going to the store."
            },
            {
                "question": "Choose the correct form of the verb: He ____ (to be) reading a book now.",
                "options": ["is", "am", "are", "was"],
                "answer": "is"
            },
            {
                "question": "Fill in the blank: They ______ (to be) studying for the exam.",
                "options": ["is", "am", "are", "were"],
                "answer": "are"
            },
            {
                "question": "What is the continuous tense of 'She writes a letter'?",
                "options": ["She is write a letter.", "She are writing a letter.", "She is writing a letter.", "She writing a letter."],
                "answer": "She is writing a letter."
            },
            {
                "question": "Correct the sentence: He am playing football.",
                "options": ["He are playing football.", "He is playing football.", "He was playing football.", "He be playing football."],
                "answer": "He is playing football."
            },
            {
                "question": "Fill in the blank with the correct form of 'to be': We ______ (to be) watching a movie when the phone rang.",
                "options": ["was", "were", "is", "are"],
                "answer": "were"
            },
            {
                "question": "Choose the correct sentence.",
                "options": ["She was being happy.", "She will be happy.", "She is being happily.", "She is being happy."],
                "answer": "She is being happy."
            },
            {
                "question": "Fill in the blank: By this time next year, I ______ (to be) working at my new job.",
                "options": ["will be", "am", "was", "is"],
                "answer": "will be"
            },
            {
                "question": "Complete the sentence with the correct continuous tense: By the time you arrive, we ______ (to be) preparing for the meeting.",
                "options": ["will be", "are", "is", "were"],
                "answer": "will be"
            },
            {
                "question": "Correct the sentence: He is been reading the book all night.",
                "options": ["He has been reading the book all night.", "He be reading the book all night.", "He have been reading the book all night.", "He is reading the book all night."],
                "answer": "He has been reading the book all night."
            }
        ];

        let currentQuestionIndex = 0;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function shuffleQuestionsAndOptions() {
            shuffle(questions);
            questions.forEach(question => shuffle(question.options));
        }

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('question-text').textContent = question.question;
            const optionsList = document.getElementById('options-list');
            optionsList.innerHTML = '';
            question.options.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option;
                optionsList.appendChild(li);
            });
            document.getElementById('hint-button').classList.remove('hidden');
            document.getElementById('options-list').classList.add('hidden');
            document.getElementById('reveal-button').classList.add('hidden');
            document.getElementById('next-button').classList.add('hidden');
        }

        function showOptions() {
            document.getElementById('options-list').classList.remove('hidden');
            document.getElementById('hint-button').classList.add('hidden');
            document.getElementById('reveal-button').classList.remove('hidden');
        }

        function revealAnswer() {
            const question = questions[currentQuestionIndex];
            const optionsList = document.getElementById('options-list');
            optionsList.querySelectorAll('li').forEach(li => {
                if (li.textContent === question.answer) {
                    li.style.backgroundColor = '#C8ACD6';
                    li.style.color = '#17153B';
                }
            });
            document.getElementById('reveal-button').classList.add('hidden');
            document.getElementById('next-button').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                document.getElementById('quiz-container').classList.add('hidden');
                document.getElementById('congratulations').classList.remove('hidden');
            }
        }

        function returnToMenu() {
            window.location.href = 'mvp.html'; // URL halaman mvp
        }

        window.onload = () => {
            shuffleQuestionsAndOptions();
            loadQuestion();
        };
    </script>
</body>
</html>
